import asyncio
from ai_analyzer import EventAnalyzer

async def main():
    analyzer = EventAnalyzer()
    
    test_cases = [
        # Spam/Chat noise
        "–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –î–æ–±—Ä—ã–π –ª—é–¥–∏, –ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ –∫—Ç–æ –∑–Ω–∞–µ—Ç, –≥–¥–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è —ç—Å—Ç–µ—Ç–∏–∫ –¥—ç–Ω—Å —Å –±–∞–Ω–µ–π –ø–æ—Å–ª–µ?",
        "–†–∞—Å—Ö–æ–¥–∏–º—Å—è, —è –≤—Å–µ –ø–µ—Ä–µ–ø—É—Ç–∞–ª–∞ üòÅ –≠—Ç–æ –§–æ—Ä–µ—Å—Ç 8 –º–∞—Ä—Ç–∞ –≤–µ—á–µ—Ä–∏–Ω–∫–∞ –¢–æ–∂–µ –Ω–∞ –°–∞–º—É–∏ –ú—ã —Ç—É–¥–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å",
        
        # No location (Should reject)
        "–î–µ–≤–æ—á–∫–∏ –ø—Ä–∏–≤–µ—Ç! –ó–∞–≤—Ç—Ä–∞ –ø—Ä–∏–≥–ª–∞—à–∞—é –Ω–∞ –í–æ–∫–∞–ª—å–Ω—É—é –ì—Ä—É–ø–ø—É –í 13:00",
        "üìç –ú–µ—Å—Ç–æ: –°–æ–æ–±—â–∏–º –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ –õ–°",
        
        # Implied locations (Should pass and extract location_name)
        "...AUM DAY - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–±—ã—Ç–∏–µ... –ö–∞–∂–¥—ã–π —á–µ—Ç–≤–µ—Ä–≥ 18:00‚Äì23:00. –í—Ö–æ–¥: 600 –±–∞—Ç",
        "Welcome to Orion Healing Center... Yoga Stretching, Pilates",
        "üéâ–î–Ω–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π –ø–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–µ–¥–∏—Ç–∞—Ü–∏–∏ üéâ –≠—Ç–æ –º–æ—â–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞... –ü—Ä–∏–≥–ª–∞—à–∞—é —Å–æ –≤—Ç–æ—Ä–Ω–∏–∫–∞ –ø–æ —á–µ—Ç–≤–µ—Ä–≥! –£—á–∞—Å—Ç–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ. –û—à–æ."
    ]
    
    print("=== –¢–ï–°–¢ –ù–û–í–´–• –ü–†–ê–í–ò–õ AI ANALYZER ===\n")
    for text in test_cases:
        print(f"üìù –í–•–û–î–Ø–©–ò–ô –¢–ï–ö–°–¢:\n{text}")
        result = await analyzer.analyze(text, chat_title="Test Chat")
        print(f"ü§ñ –†–ï–ó–£–õ–¨–¢–ê–¢: {result}\n")
        print("-" * 50)
        
    analyzer.close()

if __name__ == "__main__":
    asyncio.run(main())
